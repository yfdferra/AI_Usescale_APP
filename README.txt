# AI UseScale (AI_Usescale_APP)

A small full-stack application for creating, managing, and using assessment templates. 

The backend is a Flask app using SQLite databases located in `database/`. 
The frontend is a React app (Vite) in the `client/` folder.

This repository contains both the API and the React client so contributors can run and develop both locally.

## Quick overview

- Backend: Flask (Python) — `app.py` REST endpoints that operate on several SQLite files under `database/`.
- Frontend: React + Vite — located in `client/`, source under `client/src/`.
- Local database: generated by `sqlite.py` and cleared by `cleardb.py`.

## Table of contents

- Requirements
- Quick start
- Project structure
- Backend (Flask) 
- Frontend (React) 
- Testing
- Database scripts


## Requirements

- Node.js >= 20 (per `package.json` engines)
- Python 3.10+ (the code uses Flask and sqlite3 from stdlib)
- Git (recommended)

We recommend creating a virtual environment for Python development.

## Quick start

1. Clone the repo and cd into it:

```
git clone <repo-url>
cd AI_Usescale_APP
```

2. Create and activate a Python virtual environment (bash):

```
python -m venv env
source env/Scripts/activate    
```

3. Clear and re-generate the local SQLite databases:

```
python cleardb.py    # interactive: type "confirm" to remove .db files
python sqlite.py     # creates database/*.db with seed data
```

4. Start the Flask backend (development):

```
export FLASK_APP=app.py   
export FLASK_ENV=development
flask run
```

5. Start the client (in a separate terminal):

```
cd client
npm install
npm run dev
```

## Project structure

Top-level files and folders:

- `app.py` — Flask app with REST endpoints.
- `sqlite.py` — script to create all `database/*.db` files with data.
- `cleardb.py` — helper to remove DB files .
- `database/` — SQLite DB files used by the app.
- `client/` — React frontend (Vite + React).
- `static/` — static web files (used for server-side templates).
- `templates/` — HTML templates (Flask server-side templates used for older pages).
- `test/` and `client/src/__tests__` — frontend unit & integration tests (Jest + testing-library)

## Backend (Flask) — Run & Dev

- The main server entrypoint is `app.py`.
- It uses SQLite DB files under `database/` such as `users.db`, `subjects.db`, `usescales.db`, `usescale_rows.db`, etc.
- To start (dev): set `FLASK_APP=app.py` and run `flask run` (see Quick start above).
  
## Frontend (React) — Run & Dev

The React app lives under `client/` and uses Vite.

Common commands (run inside `client/`):

- Install dependencies:

```
npm install
```

- Run dev server (Vite):

```
npm run dev
```

 Folder Layout (High Level):
- - `src/` — main source files
  - `App.jsx` — root React component
  - `main.jsx` — React entry + router mounting
  - `components/` — UI components (each component has a `.jsx` and `.css`)
  - `templates/` — page templates
  - `assets/` — images and icons

Tests: unit & integration tests are run from the repository root using Jest (see Testing).
Some component tests live under `client/src/components/__tests__` and `client/src/templates/__tests__`.

## Testing

- Test runner (Jest) is configured in the project root `package.json` and uses `jest` & `babel-jest`.

Run all tests from the repo root:

```
npm test
```

CI-friendly test run (Jenkins/GitHub Actions):

```
npm run test:ci
```

Frontend tests are co-located with components under `client/src` but executed by the root jest configuration.

## Database scripts

- `cleardb.py` — interactive script that removes `.db` files in `./database` .
- `sqlite.py` — creates/initializes the various DB files with default data (users, subjects, usescales, usescale_entries, srep_entries, etc.).
- `query.py` — small helper used to query `users.db`.